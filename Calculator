<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
            
        }
        .span{
            color:white;
            font-style: normal;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-weight: 300;
            font: message-box;
            
           
        }
        body{
            /* background-color: grey; */
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 100px;

            
            
        }
        .calcframe{
            background-color:rgb(3, 2, 0);
            height: 65vh;
            width: 45vh;
            display: flex;
            flex-wrap: wrap;
            justify-content:space-around;
            border-radius: 10px;
            border: 4px solid black;
            
            
            
            
            
        }
        

        .panel{
            height: 60vh;
            width: 45vh;
            

        }

        button{
            width: 80px;
            height: 40px;
            border-radius:3px;
            background-color: grey;
            color: white;
            cursor:pointer;
            
            
            

            
            
            
            
            
        }
        .col1{
            margin-top: 50px;
            
            
           


        }
        .col1 button{
            background-color: red;
        }
        
        /* .col1 :first-child{
            background-color: red;
        }
        .col1 :last-child{
            background-color: red;
        }
        .col2 :last-child{
            background-color: red;
        }
        .col3 :last-child{
            background-color: red;
        }
        .col4 :last-child{
            background-color: red;
        }
        .col5 :last-child{
            background-color:blue;
        } */

        button.symbol{
            background-color: red;
            
        }

      

        /* input{
            height: 15vh;
            width: 60vh;
            background-color: rgb(39, 113, 65);
            margin-top: 20px;
        } */

        input {

            height: 15vh;
            width: 45vh;
            background-color: #277141;
            margin-top: 20px;
            color: #fff;
             font-size: 3em;        
            font-weight: bold;   
            text-align: right;   
            border: none;          
            outline: none;        
             border-radius: 8px;    
            padding-right: 1px;   
            box-shadow: 0 2px 8px rgba(0,0,0,0.3); 
            letter-spacing: 2px;  
    
   
       
    
       
        
         }
        button:hover{
            background-color:black;
        }

        button.symbol:hover{
            background-color: brown;
        }


       
        

           
        

       
    </style>
</head>
<body>
    <div class="calcframe">
        <div class="span">
        <span>RR</span>
        </div>
        <input type="number" id="display" enabled autocomplete="off" >
        <div class="panel">
            <div class="col1">
            
            <button  id="percent"class="symbol">%</button>
            <button id="AC"class="symbol">AC</button>
            <button id="C"class="symbol">C</button>
            <button  id="divide"class="symbol">/ <span><br></span></button>

            </div>
            <br>
            <div class="col2">
            
            <button  id="seven">7</button>
            <button  id="eight">8</button>
            <button  id="nine">9</button>
            <button  id="mult"class="symbol">X</button>
            </div>
            <br>
            <div class="col3">
            <button  id="four">4</button>
            <button  id="five">5</button>
            <button  id="six">6</button>
            <button  id="subs"class="symbol">-</button>
            </div>
            <br>
            <div class="col4">
            <button  id="one">1</button>
            <button  id="two">2</button>
            <button  id="three">3</button>
            <button  id="add"class="symbol">+</button>
            </div>
            <br>
            <div class="col5">
            <button id="xyz">+/-</button>
            <button  id="zero">0</button>
            <button  id="decimal" >.</button>
            <button  id="equal"class="symbol">=</button>
            </div>
        </div>
    </div>
    <script>
        
const display = document.getElementById("display");

// State variables
let currentInput = "0";
let previousInput = null;
let operator = null;
let resultDisplayed = false;

// Helper function to update display
function updateDisplay() {
    display.value = currentInput;
}

// Number and decimal input
function inputNumber(num) {
    if (resultDisplayed) {
        currentInput = num;
        resultDisplayed = false;
    } else if (currentInput === "0" && num !== ".") {
        currentInput = num;
    } else if (num === "." && currentInput.includes(".")) {
        // Prevent multiple decimals
        return;
    } else {
        currentInput += num;
    }
    updateDisplay();
}

// Operator input
function inputOperator(op) {
    if (operator && !resultDisplayed) {
        calculate();
    }
    previousInput = currentInput;
    operator = op;
    resultDisplayed = false;
    currentInput = "0";
}

// Calculate result
function calculate() {
    if (!operator || previousInput === null) return;
    let a = parseFloat(previousInput);
    let b = parseFloat(currentInput);
    let result = 0;
    switch (operator) {
        case "+": result = a + b; break;
        case "-": result = a - b; break;
        case "X": result = a * b; break;
        case "/": 
            if (b === 0) {
                currentInput = "Error";
                updateDisplay();
                resetAll();
                return;
            }
            result = a / b; 
            break;
        default: return;
    }
    currentInput = result.toString();
    updateDisplay();
    operator = null;
    previousInput = null;
    resultDisplayed = true;
}

// Clear all
function resetAll() {
    currentInput = "0";
    previousInput = null;
    operator = null;
    resultDisplayed = false;
}

// Clear last entry
function clearEntry() {
    if (resultDisplayed) {
        resetAll();
    } else {
        currentInput = currentInput.length > 1 ? currentInput.slice(0, -1) : "0";
    }
    updateDisplay();
}

// Percentage
function percent() {
    currentInput = (parseFloat(currentInput) / 100).toString();
    updateDisplay();
}

// Plus/Minus
function toggleSign() {
    if (currentInput !== "0") {
        currentInput = (parseFloat(currentInput) * -1).toString();
        updateDisplay();
    }
}

// Event listeners for all buttons
document.getElementById("zero").onclick = () => inputNumber("0");
document.getElementById("one").onclick = () => inputNumber("1");
document.getElementById("two").onclick = () => inputNumber("2");
document.getElementById("three").onclick = () => inputNumber("3");
document.getElementById("four").onclick = () => inputNumber("4");
document.getElementById("five").onclick = () => inputNumber("5");
document.getElementById("six").onclick = () => inputNumber("6");
document.getElementById("seven").onclick = () => inputNumber("7");
document.getElementById("eight").onclick = () => inputNumber("8");
document.getElementById("nine").onclick = () => inputNumber("9");
document.getElementById("decimal").onclick = () => inputNumber(".");

document.getElementById("add").onclick = () => inputOperator("+");
document.getElementById("subs").onclick = () => inputOperator("-");
document.getElementById("mult").onclick = () => inputOperator("X");
document.getElementById("divide").onclick = () => inputOperator("/");

document.getElementById("equal").onclick = () => calculate();
document.getElementById("AC").onclick = () => { resetAll(); updateDisplay(); };
document.getElementById("C").onclick = () => clearEntry();
document.getElementById("percent").onclick = () => percent();
document.getElementById("xyz").onclick = () => toggleSign();

// Initialize display
updateDisplay();

        </script>
    
<!-- <script src="newcal.js"></script> -->
</body>
</html>
